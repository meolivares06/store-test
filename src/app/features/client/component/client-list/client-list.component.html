<!--<pre>
  {{list() | json}}
</pre>-->
<p-table [columns]="cols" [value]="list()" [tableStyle]="{ 'min-width': '50rem' }" styleClass="p-datatable-striped" [paginator]="true"
         [rows]="15" [lazy]="true" (onLazyLoad)="loadData($event)" dataKey="id" [totalRecords]="totalRecords"
         [loading]="loading" showLoader="true">
  <ng-template pTemplate="caption">
    <div class="flex align-items-center justify-content-between">
      Clients
      <div class="flex gap-3 md:gap-4">
        <p-button icon="pi pi-plus" />
        <p-button icon="pi pi-refresh" />
      </div>
    </div>
  </ng-template>
  <ng-template pTemplate="header" let-columns>
    <tr>
      @for(col of columns; track col.field) {
        <th [pSortableColumn]="col.field"><span class="{{col.class}}">{{ col.header }}</span> <p-sortIcon [field]="col.field" /></th>
      }
      <th style="width: 5rem" alignFrozen="right" pFrozenColumn></th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-rowData let-columns="columns">
    <tr>
      @for(col of columns; track col.field) {
        <td><span class="{{col.class}}">{{ rowData[col.field] }}</span></td>
      }
      <td alignFrozen="right" pFrozenColumn>
        <p-button icon="pi pi-plus" (click)="select(rowData)"></p-button>
      </td>
    </tr>
  </ng-template>
</p-table>
